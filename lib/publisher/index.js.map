{"version":3,"file":"index.js","sources":["../../src/publisher/index.ts"],"sourcesContent":["import { GetRemoteUIHandler, PublisherOptions } from '../types.js';\nimport { getPublisher, connect } from './factory.js';\nimport { createNodeWsTransport, fetchWsSettings } from './transport-ws.js';\n\nexport function createPublisher(\n    id: string,\n    getRemoteUI: GetRemoteUIHandler,\n    options?: PublisherOptions\n) {\n    connect(true, createNodeWsTransport, fetchWsSettings);\n\n    const publisher = getPublisher(id, getRemoteUI, options);\n\n    return Object.assign(publisher.ns('*'), {\n        ns: publisher.ns.bind(publisher),\n    });\n}\n\nexport function connectPublisherWs(uri?: string) {\n    connect(false, createNodeWsTransport, fetchWsSettings, uri);\n}\n"],"names":[],"mappings":";;;AAIA,SAAA,eAAA;AACA,IAAA,EAAA;AACA,IAAA,WAAA;AACA,IAAA,OAAA;AACA,EAAA;AACA,IAAA,OAAA,CAAA,IAAA,EAAA,qBAAA,EAAA,eAAA,CAAA,CAAA;AACA;AACA,IAAA,MAAA,SAAA,GAAA,YAAA,CAAA,EAAA,EAAA,WAAA,EAAA,OAAA,CAAA,CAAA;AACA;AACA,IAAA,OAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,EAAA,EAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA,KAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,kBAAA,CAAA,GAAA,EAAA;AACA,IAAA,OAAA,CAAA,KAAA,EAAA,qBAAA,EAAA,eAAA,EAAA,GAAA,CAAA,CAAA;AACA;;;;"}