{"version":3,"file":"index.js","sources":["../../src/utils/index.ts"],"sourcesContent":["import { globalThis } from './global.js';\nexport * from './global.js';\n\nexport const trustedEmptyHTML = globalThis.trustedTypes?.emptyHTML;\n\nexport type Fn<TArgs extends unknown[], TReturn, TThis = unknown> = (\n    this: TThis,\n    ...args: TArgs\n) => TReturn;\n\nexport type AnyFn = Fn<any[], any>;\n\nexport function genUID(len?: number): string {\n    function base36(val: number) {\n        return Math.round(val).toString(36);\n    }\n\n    // uid should starts with alpha\n    let result = base36(10 + 25 * Math.random());\n\n    if (!len) {\n        len = 16;\n    }\n\n    while (result.length < len) {\n        result += base36(Date.now() * Math.random());\n    }\n\n    return result.substr(0, len);\n}\n\nexport type UnsubscribeFn = () => void;\n\nexport function subscribe<TItem>(list: TItem[], item: TItem): UnsubscribeFn {\n    list.push(item);\n\n    return () => {\n        const idx = list.indexOf(item);\n\n        if (idx !== -1) {\n            list.splice(idx, 1);\n        }\n    };\n}\n"],"names":["globalThis"],"mappings":";;;AAGA,MAAA,gBAAA,GAAAA,kBAAA,CAAA,YAAA,EAAA,UAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAA,MAAA,CAAA,GAAA,EAAA;AACA,IAAA,SAAA,MAAA,CAAA,GAAA,EAAA;AACA,QAAA,OAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,QAAA,CAAA,EAAA,CAAA,CAAA;AACA,KAAA;AACA;AACA;AACA,IAAA,IAAA,MAAA,GAAA,MAAA,CAAA,EAAA,GAAA,EAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,CAAA;AACA;AACA,IAAA,IAAA,CAAA,GAAA,EAAA;AACA,QAAA,GAAA,GAAA,EAAA,CAAA;AACA,KAAA;AACA;AACA,IAAA,OAAA,MAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,QAAA,MAAA,IAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,CAAA;AACA,KAAA;AACA;AACA,IAAA,OAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA;AACA;AACA,SAAA,SAAA,CAAA,IAAA,EAAA,IAAA,EAAA;AACA,IAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA;AACA,IAAA,OAAA,MAAA;AACA,QAAA,MAAA,GAAA,GAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA;AACA;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AACA,SAAA;AACA,KAAA,CAAA;AACA;;;;"}